<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>wq&#39;smallfullstack</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="探索前端技术">
<meta property="og:type" content="website">
<meta property="og:title" content="wq'smallfullstack">
<meta property="og:url" content="http://www.smallfullstack.com/index.html">
<meta property="og:site_name" content="wq'smallfullstack">
<meta property="og:description" content="探索前端技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="wq'smallfullstack">
<meta name="twitter:description" content="探索前端技术">
  
    <link rel="alternate" href="/atom.xml" title="wq&#39;smallfullstack" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">wq&#39;smallfullstack</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">文章</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.smallfullstack.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-loadfast1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/18/loadfast1/" class="article-date">
  <time datetime="2016-08-18T01:31:17.000Z" itemprop="datePublished">2016-08-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近被公司派去帮内容营销的同事搞活动，慢慢的成了切图的熟练工，然而面对重要活动时候还是为了追求极致加载速度而去深入折腾一番。下面就让我来分享下自己的经验。<br>首先简单说明下浏览器解析顺序：<br>        -&gt; HTML 解析完毕<br>        -&gt; 外部脚本和样式表加载完毕<br>        -&gt; 脚本在文档内解析并执行<br>        -&gt; HTML DOM 完全构造<br>        -&gt; 图片和外部内容加载<br>        -&gt; 网页完成加载<br>那么我们可以针对这些步骤做哪些工作呢？下面让我借例子道来。<br><img src="//dn-cnode.qbox.me/FiBV0YwI_z8nIMEnazPoBUSMLa0K" alt="未优化.png"><br>这张图是未优化前我用chrome记录下的，可以看到DOMContentLoaded的时间是231ms，而完全加载完时间是24.76s，当然这跟我去掉缓存也有一定影响，这样说来首页加载的速度还勉强可以，但是完全加载的时间却很难让人忍受。接下来我们看看google的pagespeed insights怎么说<br><img src="//dn-cnode.qbox.me/FiaSVPd6oNtRrelIOFzmrHd3ml-E" alt="未优化2.png"><img src="//dn-cnode.qbox.me/Fk8WD0JSZgA5DqlAVI9WeDgmWV_3" alt="未优化3.png"><img src="//dn-cnode.qbox.me/Fpu0wqZ4EJwmEPFfQM9WUuAWcMhn" alt="未优化4.png"><br>总结一下就是图片需要压缩，首屏用不到的js该去去掉，css中先把有用的样式拿出来嵌入到页面上。<br>图片压缩的问题我们可以用gulp 插件imgmin<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> minimgpath = yourproj path;</div><div class="line">gulp.task(<span class="string">'imgmin'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">   <span class="keyword">return</span> gulp.src(minimgpath + <span class="string">'/**'</span>)</div><div class="line">       	 	.pipe(imagemin(&#123;</div><div class="line">           		 progressive: <span class="literal">true</span>,</div><div class="line">            	svgoPlugins: [&#123;</div><div class="line">                	removeViewBox: <span class="literal">false</span></div><div class="line">            	&#125;],</div><div class="line">           	 use: [pngquant()]</div><div class="line">        	&#125;))</div><div class="line">        	.pipe(gulp.dest(minimgpath + <span class="string">'/'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p> goolge建议的是无损压缩，然而你可以根据需要设置，这边默认设置可以压缩25%左右。做好压缩后接下来就是去掉相关的脚本文件和css文件<br> 到现在我们可以继续说上面的浏览器解析的事了。方案是针对首屏dom解析完毕的事件做监听，在这个事件完成后说明首屏页面加载完了，然后再去加载其他的资源。<br>  其中跟dom加载相关的事件有两个document的DOMContentLoaded 和  window 的 load 事件，两者的区别是 前一个在dom加载完后触发，不用管界面的图片什么的，而后者则是需要全部界面资源加载完后才会触发。为了更加稳妥的考虑我们参考jquery的$(document).ready();把两者共同用上<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">completed</span>(<span class="params"></span>) </span>&#123;</div><div class="line">       <span class="built_in">document</span>.removeEventListener( <span class="string">"DOMContentLoaded"</span>, completed );</div><div class="line">        <span class="built_in">window</span>.removeEventListener( <span class="string">"load"</span>, completed );</div><div class="line">        <span class="comment">//do loading</span></div><div class="line"> &#125;</div><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, completed );</div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>, completed );</div></pre></td></tr></table></figure></p>
<p>这边doloading 自然就是加载 脚本。我们利用动态创建脚本以及它的onload事件来加载js及控制加载的前后顺序</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">src,callback</span>) </span>&#123;</div><div class="line">       <span class="keyword">var</span> javascript = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</div><div class="line">       javascript.async = <span class="literal">true</span>;</div><div class="line">       javascript.type = <span class="string">'text/javascript'</span>;</div><div class="line">       <span class="keyword">var</span> head = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>];</div><div class="line">       head.appendChild(javascript);</div><div class="line">       <span class="keyword">if</span>(callback) &#123;</div><div class="line">          <span class="keyword">if</span>(navigator.appName.toLowerCase().indexOf(<span class="string">'netscape'</span>) === <span class="number">-1</span>) &#123;</div><div class="line">            <span class="keyword">if</span>(javascript.onreadyState === <span class="string">'complete'</span>) &#123;</div><div class="line">                    callback();</div><div class="line">			&#125;</div><div class="line">         &#125; <span class="keyword">else</span> &#123;</div><div class="line">                javascript.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                    callback();</div><div class="line">                &#125;</div><div class="line">            &#125; </div><div class="line">       &#125;</div><div class="line">      </div><div class="line">       javascript.src = src;</div><div class="line">&#125;</div><div class="line">loadScript(<span class="string">'load a script'</span>,loadB );</div></pre></td></tr></table></figure>
<p>这样我们组合一下两段代码<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">src,callback</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> javascript = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</div><div class="line">        javascript.async = <span class="literal">true</span>;</div><div class="line">        javascript.type = <span class="string">'text/javascript'</span>;</div><div class="line">        <span class="keyword">var</span> head = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>];</div><div class="line">        head.appendChild(javascript);</div><div class="line">        <span class="keyword">if</span>(callback) &#123;</div><div class="line">           <span class="keyword">if</span>(navigator.appName.toLowerCase().indexOf(<span class="string">'netscape'</span>) === <span class="number">-1</span>) &#123;</div><div class="line">            <span class="keyword">if</span>(javascript.onreadyState === <span class="string">'complete'</span>) &#123;</div><div class="line">                    callback();</div><div class="line">            &#125;</div><div class="line">         &#125; <span class="keyword">else</span> &#123;</div><div class="line">                javascript.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                    callback();</div><div class="line">                &#125;</div><div class="line">            &#125; </div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        javascript.src = src;</div><div class="line">    &#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addScriptQueue</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        loadScript(<span class="string">'//res.wx.qq.com/open/js/jweixin-1.0.0.js'</span>);</div><div class="line">        loadScript(<span class="string">'//cdn.yoho.cn/yohodesiner/1.0.2/js/lib/swiper-3.3.1.jquery.min.js'</span>);</div><div class="line">        loadScript(<span class="string">'&#123;&#123;jspath&#125;&#125;loading_yohood.js?v=1'</span>);</div><div class="line">        loadScript(<span class="string">'&#123;&#123;jspath&#125;&#125;yohood/index.wechat.js?v=1'</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">completed</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">document</span>.removeEventListener( <span class="string">"DOMContentLoaded"</span>, completed );</div><div class="line">        <span class="built_in">window</span>.removeEventListener( <span class="string">"load"</span>, completed );</div><div class="line">        loadScript(<span class="string">'http://cdn.yoho.cn/yohodesiner/1.0.2/js/lib/jquery-1.10.1.min.js'</span>,addScriptQueue);</div><div class="line">    &#125;</div><div class="line"> <span class="built_in">document</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, completed );</div><div class="line"> <span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>, completed );</div></pre></td></tr></table></figure></p>
<p>就可以实现我们想要的等首屏dom加载完后按顺序动态加载需要的脚本。至于css 的处理方式可以看看 pagespeed insights给的<br><img src="//dn-cnode.qbox.me/FiWBF_vg1tTbzTImjCjc0TKzMdQX" alt="css优化.png"><br>考虑到css本身文件较小我没有去对他也进行后续加载。下面是优化后的结果：<br><img src="//dn-cnode.qbox.me/Fo8pjoUNCCj0GxSdIK01uOX3GdMu" alt="优化后.png"><br><img src="//dn-cnode.qbox.me/Fu6kDRc8gFNvS88cqGygNWwSmVLi" alt="优化后2.png"><br>还是变快了的。<br>这边是这次活动 <a href="http://activity.m.yohobuy.com/yohood" target="_blank" rel="external">yohood</a>的链接，有兴趣可以点点。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallfullstack.com/2016/08/18/loadfast1/" data-id="cirzpq84w00004ws03284rlf4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-facetotianmao" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/17/facetotianmao/" class="article-date">
  <time datetime="2016-08-17T02:42:51.000Z" itemprop="datePublished">2016-08-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/17/facetotianmao/">前端</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="js-设计模式"><a href="#js-设计模式" class="headerlink" title="js 设计模式"></a>js 设计模式</h3><h3 id="js-性能"><a href="#js-性能" class="headerlink" title="js 性能"></a>js 性能</h3><h3 id="js-压缩混淆原理"><a href="#js-压缩混淆原理" class="headerlink" title="js 压缩混淆原理"></a>js 压缩混淆原理</h3><h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><h3 id="用什么工具，学习方法"><a href="#用什么工具，学习方法" class="headerlink" title="用什么工具，学习方法"></a>用什么工具，学习方法</h3><pre><code>感觉应该是有博客、代码库之类的由此可见博客的重要性
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallfullstack.com/2016/08/17/facetotianmao/" data-id="cirycv3g00000i7s02uyjdzcm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jsbase1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/12/jsbase1/" class="article-date">
  <time datetime="2016-08-12T14:46:11.000Z" itemprop="datePublished">2016-08-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/12/jsbase1/">js 基本概念 (主要是es5)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><pre><code>1 区分大小写
2 标识符 
  第一个字符必须是字母、下划线(_)或一个美元符号$
  其他字符可以是字母、下划线、美元符号或者数字
  不可以是关键字哦
  推荐小驼峰写法：
     firstSecond
     myCar
     doSomethingImportant
3 严格模式
  &quot;use strict&quot; //这个是编译指示，用来告诉js引擎切换到严格
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">也可以这么用!</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span>&#123;</div><div class="line"><span class="meta">"use strict"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>

4 语句
    ECMAScript 语句以分好结尾;省略分好的话会由解析器确定结尾，会对性能有影响，也影响可读性
    项目里面千万要自己加。
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = a + b</div><div class="line"><span class="keyword">var</span> diff =  a - b</div></pre></td></tr></table></figure>
</code></pre><h2 id="关键字和保留字"><a href="#关键字和保留字" class="headerlink" title="关键字和保留字"></a>关键字和保留字</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">break</span>       <span class="keyword">do</span>          <span class="keyword">instanceof</span>       <span class="keyword">typeof</span></div><div class="line"><span class="keyword">case</span>        <span class="keyword">else</span>        <span class="keyword">new</span>              <span class="keyword">var</span></div><div class="line"><span class="keyword">catch</span>       <span class="keyword">for</span>         <span class="keyword">return</span>           <span class="keyword">void</span></div><div class="line"><span class="keyword">continue</span>    <span class="function"><span class="keyword">function</span>    <span class="title">switch</span>           <span class="title">width</span></span></div><div class="line"><span class="title">debugger</span>*   <span class="title">if</span>          <span class="title">this</span>             <span class="title">while</span></div><div class="line"><span class="title">default</span>     <span class="title">in</span>          <span class="title">throw</span></div><div class="line"><span class="title">delete</span>      <span class="title">finally</span>     <span class="title">try</span></div></pre></td></tr></table></figure>
</code></pre><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> message;</div><div class="line"><span class="keyword">var</span> message = <span class="string">'hi'</span>;</div><div class="line">message = <span class="number">100</span> <span class="comment">//有效不推荐</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> message = <span class="string">'hi'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">test();</div><div class="line">alert(message) ; <span class="comment">//错误</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">testAnother</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	message = <span class="string">"hi"</span>;</div><div class="line">&#125;</div><div class="line">test();</div><div class="line">alert(message); <span class="comment">// hi message为全局变量  然而极不推荐</span></div><div class="line"></div><div class="line"></div><div class="line">   <span class="keyword">var</span> message = <span class="string">'hi'</span>,</div><div class="line">   	found = <span class="literal">false</span>,</div><div class="line">   	age = <span class="number">29</span> ;  <span class="comment">//很常用</span></div><div class="line"></div><div class="line">   <span class="comment">//严格模式下不能用eval 和 agruments 作为变量</span></div></pre></td></tr></table></figure>
</code></pre><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="number">5</span> 种基本类型:</div><div class="line"><span class="literal">undefined</span> <span class="literal">null</span> number boolean string</div><div class="line"><span class="number">1</span> 种引用类型:</div><div class="line">object</div><div class="line">  	<span class="keyword">typeof</span> 检测得到的都是字符串,对应如下：</div><div class="line"></div><div class="line">  	<span class="string">'undefined'</span> --------------如果这个值未定义</div><div class="line">  	<span class="string">'boolean'</span>   --------------如果值是布尔值</div><div class="line">  	<span class="string">'string'</span>    --------------如果是字符串</div><div class="line">  	<span class="string">'number'</span>    --------------如果这个值是数值</div><div class="line">  	<span class="string">'object'</span>    --------------如果这个值是对象</div><div class="line">  	<span class="string">'function'</span>  --------------如果这个值是函数</div><div class="line"><span class="keyword">var</span> message = <span class="string">'some string'</span>;</div><div class="line"><span class="keyword">typeof</span> message ; <span class="comment">//string</span></div><div class="line"><span class="keyword">typeof</span> <span class="number">95</span> ; <span class="comment">// number</span></div><div class="line"><span class="keyword">typeof</span> 是操作符不是函数 所以不用(),但用了也没关系</div><div class="line"><span class="keyword">typeof</span> <span class="literal">null</span> ; <span class="comment">// object</span></div><div class="line"><span class="keyword">typeof</span> Reg ; <span class="comment">//safari 5以前,Chrome 7之前都是 function,其他浏览器是'object'</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> d1 ;</div><div class="line"><span class="keyword">typeof</span> d1 ; <span class="comment">//undefined</span></div><div class="line">age ; <span class="comment">// 错误</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> car = <span class="literal">null</span>;</div><div class="line"><span class="keyword">typeof</span> car ; <span class="comment">// object</span></div><div class="line"><span class="literal">null</span> == <span class="literal">undefined</span> ; <span class="comment">//true undefined 派生自 null</span></div><div class="line"><span class="keyword">var</span> a = <span class="literal">undefined</span> ;<span class="comment">//没有必要</span></div><div class="line"><span class="keyword">var</span> a = <span class="literal">null</span> ; <span class="comment">//这个可以</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> found = <span class="literal">true</span>;</div><div class="line"><span class="keyword">var</span> lost = <span class="literal">false</span>;</div><div class="line"><span class="comment">// True False 这样的都是标识符</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> message = <span class="string">'Hello word'</span>;</div><div class="line"><span class="keyword">var</span> messageAsBoolean = <span class="built_in">Boolean</span>(message);</div><div class="line">类型转换对应的表格如下</div><div class="line">数据类型                转换为 <span class="literal">true</span>的值                 转换为<span class="literal">false</span> 的值</div><div class="line"><span class="built_in">Boolean</span>                <span class="literal">true</span>                           <span class="literal">true</span></div><div class="line"><span class="built_in">String</span>                 任何非空字符串                   <span class="string">""</span>(空字符串)</div><div class="line"><span class="built_in">Number</span>                 任何非零数字值（包括无穷大）       <span class="number">0</span> &amp; <span class="literal">NaN</span></div><div class="line"><span class="built_in">Object</span>                 任何对象                        <span class="literal">null</span></div><div class="line">Undefined              n/a                            <span class="literal">undefined</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> message = <span class="string">'Hello Word'</span>;</div><div class="line">	<span class="keyword">if</span>(message) &#123;</div><div class="line">	alert(<span class="string">'Value is true'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</code></pre><h4 id="a-数值类型"><a href="#a-数值类型" class="headerlink" title="a.数值类型"></a>a.数值类型</h4><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span>  intNum = <span class="number">55</span> ; <span class="comment">// 整数</span></div><div class="line"><span class="keyword">var</span>  octalNum1 = <span class="number">070</span>; <span class="comment">// 八进制56</span></div><div class="line"><span class="keyword">var</span>  octaNum2 = <span class="number">079</span>; <span class="comment">//无效八进制 -- 解析为79</span></div><div class="line"><span class="keyword">var</span>  octaNum3 = <span class="number">08</span>; <span class="comment">//无效八进制 -- 解析为8</span></div><div class="line">		</div><div class="line"></div><div class="line">八进制在严格模式下无效</div><div class="line">十六进制 前两位 必须是 <span class="number">0</span>x 后面跟十六进制数字（<span class="number">0</span><span class="number">-9</span> A~F） A~F可以大写也可以小写</div><div class="line">  </div><div class="line"><span class="keyword">var</span> hexNum1 = <span class="number">0xA</span> ; <span class="comment">//十六进制的10</span></div><div class="line"><span class="keyword">var</span> hexNum2 = <span class="number">0x1f</span> ; <span class="comment">//十六机制的31;</span></div><div class="line"><span class="comment">//算数计算的时候8进制和十六进制最后会被转换为 十进制</span></div><div class="line"><span class="comment">//n/a(或 N/A),是not applicable 的缩写 ，意思是"不适用" 这个可以转换为 true</span></div><div class="line">   </div><div class="line">浮点数值</div><div class="line">数值中必须有小数点，并且小数点后必须有至少一位数字，不推荐小数点前面没数字的</div><div class="line"></div><div class="line"><span class="keyword">var</span> floatNum1 = <span class="number">1.1</span>;</div><div class="line"><span class="keyword">var</span> floatNum2 = <span class="number">0.1</span>;</div><div class="line"><span class="keyword">var</span> floatNum3 = <span class="number">.1</span>;</div><div class="line">浮点值需要内存空间是整数值的<span class="number">2</span>倍，因此EcmaScript会不失时机的转浮点为证书</div><div class="line"><span class="keyword">var</span> floatNum1 = <span class="number">1.</span>; <span class="comment">//解析为1</span></div><div class="line"><span class="keyword">var</span> floatNum2 = <span class="number">10.0</span>; <span class="comment">//解析为10</span></div><div class="line"><span class="keyword">var</span> floatNum = <span class="number">3.125e7</span>;</div><div class="line"><span class="number">0.00000000000000003</span> -&gt; <span class="number">3e-17</span>; <span class="comment">//默认情况下 es会将小数点后面6个0 以上的浮点转换为e表示</span></div><div class="line"></div><div class="line">浮点值的最高进度是<span class="number">17</span>位小数，然而算术计算的时候精确度远不如整数</div><div class="line"><span class="number">0.1</span>+<span class="number">0.2</span> = <span class="number">0.300000000000004</span></div><div class="line"><span class="keyword">if</span>(a+b == <span class="number">0.3</span>) &#123; <span class="comment">// 0.1+0.2的时候就不对的，虽然0.15和0.15 0.25和0.05是ok的</span></div><div class="line">		alert(<span class="string">'You got 0.3'</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">关于浮点数值计算会产生舍入误差是基于IEE754s数值的浮点计算的通病</div></pre></td></tr></table></figure>
</code></pre><h3 id="b-字符串类型"><a href="#b-字符串类型" class="headerlink" title="b.字符串类型"></a>b.字符串类型</h3><pre><code>  String 类型表示由零或者多个16位Unicode字符组成的字符序列。
  非打印字符，或有其他用途的字符
  \n                  换行
  \t                  指标
  \b                  空格
  \r                  回车
  \f                  进纸
  \\                  斜杠
  \&apos;                  单引号    &apos;He said,\&apos; hey.\&apos;&apos;
  \&quot;                     双引号
  \xnn                十六进制代码nn表示的一个字符(其中n 为0-F)。 \x41 表示为A
  \unnnn              以十六进制代码nnnn表示的Unicode字符(其中n为0~F)。例如, \u03a3表示希腊字符 sigma
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> text = <span class="string">'This is the letter sigma: \u03a3'</span></div></pre></td></tr></table></figure>

.特点
    字符串不可变，字符串一旦创建，它们的值就不能改变。要改变某个变量保存的字符串，首先要销毁原来的字符串，然后再用另一个包含新值得字符串填充该变量。
    var lang = &apos;java&apos;;
    lang = lang + &apos;Script&apos;;
    首先创建一个能容纳10个字符的新字符串，然后在这个字符串中填充 &apos;Java&apos; 和 &apos;Script&apos;,最后一步是销毁原来的字符串&apos;Java&apos; 和字符串 &apos;Script&apos;,因为这两个字符串已经没用了。
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</div><div class="line">alert(num.toString()); <span class="comment">// "10"</span></div><div class="line">alert(num.toString(<span class="number">2</span>)); <span class="comment">// "1010"</span></div><div class="line">alert(num.toString(<span class="number">8</span>)); <span class="comment">// "12"</span></div><div class="line">alert(num.toString(<span class="number">10</span>));<span class="comment">// "10"</span></div><div class="line">alert(num.toString(<span class="number">16</span>));<span class="comment">// "a"</span></div><div class="line"><span class="keyword">var</span> value1 = <span class="number">10</span>;</div><div class="line"><span class="keyword">var</span> value2 = <span class="literal">true</span>;</div><div class="line"><span class="keyword">var</span> value3 = <span class="literal">null</span>;</div><div class="line"><span class="keyword">var</span> value4;</div><div class="line"></div><div class="line">alert(<span class="built_in">String</span>(value1)); <span class="comment">// "10";</span></div><div class="line">alert(<span class="built_in">String</span>(value2)); <span class="comment">// "true";</span></div><div class="line">alert(<span class="built_in">String</span>(value3)); <span class="comment">// "null";</span></div><div class="line">alert(<span class="built_in">String</span>(value4)); <span class="comment">// "undefined"</span></div></pre></td></tr></table></figure>
</code></pre><h3 id="c-object类型"><a href="#c-object类型" class="headerlink" title="c.object类型"></a>c.object类型</h3><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>; <span class="comment">//有效但不推荐</span></div><div class="line"><span class="built_in">Object</span>类型是所有它的实例的基础。换句话说，<span class="built_in">Object</span>类型所具有的任何属性和方法也同样存在于更具体的对象中。</div><div class="line">每个实例都具有的方法</div><div class="line">Constructor  <span class="built_in">Object</span>()</div><div class="line">hasOwnProperty 用于检查给定的属性在当前对象实例中（而不是在实例的原型中）是否存在。其中，作为参数的属性名</div><div class="line">必须以字符串的形式指定(例如 o.hasOwnProperty(<span class="string">"name"</span>)).</div><div class="line">isPrototypeOf(object) :用于检查传入的对象是否是另一个对象的原型</div><div class="line">propertyIsEnumerable: 用于检查给定的属性是否能使用 <span class="keyword">for</span> - <span class="keyword">in</span> 语句来枚举。与hasOwnProperty()方法一样，作为参数的属性名必须以字符串指定。</div><div class="line">toLocalString(): 返回对象的字符串表示，该字符串与执行环境的地区对应。</div><div class="line">toString(): 返回对象的字符串表示</div><div class="line">valueOf(): 返回对象的字符串、数值或布尔值表示。通常与toString()方法的返回值相同。</div><div class="line"></div><div class="line">(ECMA<span class="number">-262</span>中对象的行为不一定适用于JavaScript,因为他们是由宿主实现提供和定义的 ECMA<span class="number">-262</span>不负责定义宿主对象)</div></pre></td></tr></table></figure>
</code></pre><h2 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">按位非（NOT）</div><div class="line">~</div><div class="line"><span class="keyword">var</span> num1 = <span class="number">25</span>;   <span class="comment">//二进制 00000000 00000000 00000000 00011001</span></div><div class="line"><span class="keyword">var</span> num2 = ~num; <span class="comment">//二进制 11111111 11111111 11111111 11100110</span></div><div class="line">alert(num2); <span class="comment">// -26</span></div><div class="line">按位与 （AND）</div><div class="line">&amp;</div><div class="line"><span class="keyword">var</span> result = <span class="number">25</span>&amp;<span class="number">3</span>; <span class="comment">// 00000000 00000000 00000000 0001 1001</span></div><div class="line">					  <span class="number">00000000</span> <span class="number">00000000</span> <span class="number">00000000</span> <span class="number">0000</span> <span class="number">0011</span></div><div class="line">					  <span class="number">00000000</span> <span class="number">00000000</span> <span class="number">00000000</span> <span class="number">0000</span> <span class="number">0001</span></div><div class="line">alert(result); <span class="comment">//1</span></div><div class="line">按位或 （OR）</div><div class="line"></div><div class="line"><span class="keyword">var</span> result = <span class="number">25</span> | <span class="number">3</span>;<span class="comment">// 00000000 00000000 00000000 0001 1011</span></div><div class="line">alert(result); <span class="comment">// 27 </span></div><div class="line">按位异或 （XOR）; <span class="comment">//</span></div><div class="line"><span class="keyword">var</span> result = <span class="number">25</span> ^ <span class="number">3</span> ; <span class="comment">// 00000000 00000000 00000000 0001 1010</span></div><div class="line">alert(result) ; <span class="comment">// 26</span></div><div class="line"></div><div class="line">左移 &lt;&lt; 表示所有位向左移指定的位数</div><div class="line"><span class="keyword">var</span> oldValue = <span class="number">2</span>;               <span class="comment">// 10</span></div><div class="line"><span class="keyword">var</span> newValue = oldValue &lt;&lt;<span class="number">5</span> ;   <span class="comment">//  0100 0000 64</span></div><div class="line"></div><div class="line">右移 &gt;&gt;</div><div class="line"><span class="keyword">var</span> oldValue = <span class="number">64</span>;            <span class="comment">// 100 0000</span></div><div class="line"><span class="keyword">var</span> newValue = oldValue &gt;&gt; <span class="number">5</span>  <span class="comment">// 10</span></div><div class="line">无符号 右移 这个操作符会将数值的所有<span class="number">32</span>位都向右移动。对正数来说，无符号右移的结果与有符号右移相同。</div><div class="line"><span class="keyword">var</span> oldValue = <span class="number">64</span>;            <span class="comment">// 100 0000</span></div><div class="line"><span class="keyword">var</span> newValue = oldValue &gt;&gt;&gt; <span class="number">5</span>;<span class="comment">// 10</span></div><div class="line">对于负数来说就不一样了，首先无符号右移是以<span class="number">0</span>来填充空位，而不像有符号右移那样以符号位填充空位。</div><div class="line"><span class="keyword">var</span> oldValue = <span class="number">-64</span> ; <span class="comment">// 11111111 11111111 11111111 1100 0000</span></div><div class="line"><span class="keyword">var</span> newValue = oldValue &gt;&gt;&gt; <span class="number">5</span>; <span class="comment">// 00000111 11111111 11111111 1111 1110 十进制 134217726</span></div></pre></td></tr></table></figure>
</code></pre><h2 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h2><pre><code>需要注意for in 的时候检测一下对象是否是null 或者 undefined
</code></pre><h2 id="函数-ECMAScript-中函数使用function-关键字-后跟一组参数以及函数体"><a href="#函数-ECMAScript-中函数使用function-关键字-后跟一组参数以及函数体" class="headerlink" title="函数 ECMAScript 中函数使用function 关键字 后跟一组参数以及函数体"></a>函数 ECMAScript 中函数使用function 关键字 后跟一组参数以及函数体</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">functionName</span>(<span class="params">arg0,arg1, ...,argN</span>)</span>&#123;</div><div class="line">	statements</div><div class="line">&#125;</div><div class="line">示例：</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name,message</span>)</span>&#123;</div><div class="line">	alert(<span class="string">"Hello "</span> + name + <span class="string">","</span> + message);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">sum1,sum2</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> num1 + num2;</div><div class="line">	alert(<span class="string">"Hello world"</span>); <span class="comment">//永远不会调用</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name,message</span>) </span>&#123; <span class="comment">//会返回 undefined</span></div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">	alert(<span class="string">"Hello "</span> + name + <span class="string">","</span> + message) ;<span class="comment">//依然永远不会调用</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallfullstack.com/2016/08/12/jsbase1/" data-id="cirycv3gr0001i7s0pm3cxptj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/08/18/loadfast1/">(no title)</a>
          </li>
        
          <li>
            <a href="/2016/08/17/facetotianmao/">前端</a>
          </li>
        
          <li>
            <a href="/2016/08/12/jsbase1/">js 基本概念 (主要是es5)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 wq<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">文章</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>